{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/yerkomunoz/Dev-personal/V0/v0-gym-attendance-app/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient as createSupabaseServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\n\nexport async function createClient() {\n  const cookieStore = await cookies();\n\n  return createSupabaseServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options),\n            );\n          } catch {\n            // The \"setAll\" method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    },\n  );\n}\n\nexport async function createServerClient() {\n  const cookieStore = await cookies();\n\n  return createSupabaseServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options),\n            );\n          } catch {\n            // The \"setAll\" method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    },\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,2SAAO;IAEjC,OAAO,IAAA,4SAA0B,sUAG/B;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,2SAAO;IAEjC,OAAO,IAAA,4SAA0B,sUAG/B;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/yerkomunoz/Dev-personal/V0/v0-gym-attendance-app/components/trainers-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TrainersClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call TrainersClient() from the server but TrainersClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/trainers-client.tsx <module evaluation>\",\n    \"TrainersClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,yaAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,gEACA","ignoreList":[0]}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/yerkomunoz/Dev-personal/V0/v0-gym-attendance-app/components/trainers-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TrainersClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call TrainersClient() from the server but TrainersClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/trainers-client.tsx\",\n    \"TrainersClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,iBAAiB,IAAA,yaAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,4CACA","ignoreList":[0]}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/yerkomunoz/Dev-personal/V0/v0-gym-attendance-app/components/role-based-nav.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RoleBasedNav = registerClientReference(\n    function() { throw new Error(\"Attempted to call RoleBasedNav() from the server but RoleBasedNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/role-based-nav.tsx <module evaluation>\",\n    \"RoleBasedNav\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,yaAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,+DACA","ignoreList":[0]}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/yerkomunoz/Dev-personal/V0/v0-gym-attendance-app/components/role-based-nav.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RoleBasedNav = registerClientReference(\n    function() { throw new Error(\"Attempted to call RoleBasedNav() from the server but RoleBasedNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/role-based-nav.tsx\",\n    \"RoleBasedNav\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,yaAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,2CACA","ignoreList":[0]}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///Users/yerkomunoz/Dev-personal/V0/v0-gym-attendance-app/app/trainers/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\";\nimport { TrainersClient } from \"@/components/trainers-client\";\nimport { RoleBasedNav } from \"@/components/role-based-nav\";\nimport { redirect } from \"next/navigation\";\n\nexport default async function TrainersPage() {\n  const supabase = await createClient();\n\n  // Get current user - use getUser() for server-side authentication\n  const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n  if (authError || !user) {\n    redirect('/login');\n  }\n\n  // Get user profile with role\n  const { data: userProfile } = await supabase\n    .from('users')\n    .select('role, branch_id')\n    .eq('id', user.id)\n    .single();\n\n  if (!userProfile) {\n    redirect('/login');\n  }\n\n  // Build query based on role\n  let query = supabase\n    .from(\"trainers\")\n    .select(\"*, branches(name)\");\n\n  // Filter based on role\n  if (userProfile.role === 'trainer' && userProfile.branch_id) {\n    // Trainers can only see trainers from their branch\n    query = query.eq('branch_id', userProfile.branch_id);\n  }\n  // Admin sees all trainers (no filter)\n  // Students shouldn't access this page (middleware will handle)\n\n  const { data: trainers, error } = await query.order(\"name\");\n\n  if (error) {\n    console.error(\"Error fetching trainers:\", error);\n  }\n\n  return (\n    <>\n      <RoleBasedNav />\n      <TrainersClient initialTrainers={trainers || []} />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;;;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,yIAAY;IAEnC,kEAAkE;IAClE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAExE,IAAI,aAAa,CAAC,MAAM;QACtB,IAAA,kWAAQ,EAAC;IACX;IAEA,6BAA6B;IAC7B,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,SACL,MAAM,CAAC,mBACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;IAET,IAAI,CAAC,aAAa;QAChB,IAAA,kWAAQ,EAAC;IACX;IAEA,4BAA4B;IAC5B,IAAI,QAAQ,SACT,IAAI,CAAC,YACL,MAAM,CAAC;IAEV,uBAAuB;IACvB,IAAI,YAAY,IAAI,KAAK,aAAa,YAAY,SAAS,EAAE;QAC3D,mDAAmD;QACnD,QAAQ,MAAM,EAAE,CAAC,aAAa,YAAY,SAAS;IACrD;IACA,sCAAsC;IACtC,+DAA+D;IAE/D,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,KAAK,CAAC;IAEpD,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,4BAA4B;IAC5C;IAEA,qBACE;;0BACE,+YAAC,mJAAY;;;;;0BACb,+YAAC,mJAAc;gBAAC,iBAAiB,YAAY,EAAE;;;;;;;;AAGrD"}}]
}